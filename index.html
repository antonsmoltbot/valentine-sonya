<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–°–æ–Ω–µ—á–∫–∞ üíï</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@400;500;600&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Inter', sans-serif;
    overflow: hidden;
    background: linear-gradient(135deg, #fce4ec 0%, #f8bbd0 30%, #f48fb1 60%, #ec407a 100%);
    transition: background 0.8s ease;
  }

  body.yes-mode {
    background: linear-gradient(135deg, #fce4ec 0%, #ffcdd2 30%, #ef9a9a 60%, #e57373 100%);
  }

  /* Floating hearts background */
  .hearts-bg {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    pointer-events: none;
    z-index: 0;
    overflow: hidden;
  }

  .floating-heart {
    position: absolute;
    font-size: 20px;
    opacity: 0.15;
    animation: floatUp linear infinite;
  }

  @keyframes floatUp {
    0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
    10% { opacity: 0.15; }
    90% { opacity: 0.15; }
    100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
  }

  .card {
    position: relative;
    z-index: 1;
    background: rgba(255, 255, 255, 0.92);
    backdrop-filter: blur(20px);
    border-radius: 24px;
    padding: 48px 40px;
    max-width: 440px;
    width: 90%;
    text-align: center;
    box-shadow: 0 20px 60px rgba(236, 64, 122, 0.2), 0 0 0 1px rgba(255,255,255,0.5);
    animation: cardIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes cardIn {
    0% { transform: scale(0.8) translateY(30px); opacity: 0; }
    100% { transform: scale(1) translateY(0); opacity: 1; }
  }

  .question-screen, .yes-screen { transition: opacity 0.5s ease; }
  .yes-screen { display: none; }
  .yes-screen.active { display: block; animation: cardIn 0.6s ease; }
  .question-screen.hidden { display: none; }

  h1 {
    font-family: 'Playfair Display', serif;
    font-size: 32px;
    color: #333;
    margin-bottom: 8px;
    line-height: 1.3;
  }

  .subtitle {
    font-size: 18px;
    color: #c62828;
    margin-bottom: 32px;
    font-weight: 500;
  }

  .emoji-big {
    font-size: 48px;
    margin-bottom: 16px;
    display: block;
    animation: pulse 2s ease infinite;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.1); }
  }

  .buttons {
    display: flex;
    gap: 16px;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    margin-top: 24px;
  }

  .btn-yes {
    background: linear-gradient(135deg, #e53935, #c62828);
    color: white;
    border: none;
    padding: 16px 48px;
    font-size: 20px;
    font-weight: 600;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Inter', sans-serif;
    letter-spacing: 1px;
    box-shadow: 0 4px 20px rgba(229, 57, 53, 0.4);
  }

  .btn-yes:hover {
    transform: scale(1.08);
    box-shadow: 0 6px 30px rgba(229, 57, 53, 0.5);
  }

  .btn-no {
    background: white;
    color: #999;
    border: 2px solid #ddd;
    padding: 14px 36px;
    font-size: 16px;
    font-weight: 500;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-family: 'Inter', sans-serif;
    position: relative;
  }

  /* YES screen */
  .yay-title {
    font-size: 42px;
    font-weight: 700;
    margin-bottom: 8px;
  }

  .yay-emoji {
    font-size: 36px;
    display: inline;
  }

  .best-decision {
    font-size: 18px;
    color: #555;
    margin: 16px 0;
  }

  .gif-container {
    margin: 20px auto;
    border-radius: 16px;
    overflow: hidden;
    max-width: 280px;
    box-shadow: 0 8px 30px rgba(0,0,0,0.1);
  }

  .gif-container img {
    width: 100%;
    display: block;
  }

  .love-text {
    font-family: 'Playfair Display', serif;
    font-size: 22px;
    color: #c62828;
    margin-top: 20px;
  }

  .love-text .heart {
    color: #e53935;
    animation: heartbeat 1.2s ease infinite;
    display: inline-block;
  }

  @keyframes heartbeat {
    0%, 100% { transform: scale(1); }
    15% { transform: scale(1.3); }
    30% { transform: scale(1); }
    45% { transform: scale(1.2); }
  }

  /* Confetti canvas */
  #confetti {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    pointer-events: none;
    z-index: 10;
  }

  /* NO button escape messages */
  .escape-msg {
    position: fixed;
    z-index: 20;
    font-size: 16px;
    color: #c62828;
    font-weight: 600;
    pointer-events: none;
    animation: msgPop 1.5s ease forwards;
    background: white;
    padding: 8px 16px;
    border-radius: 20px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    white-space: nowrap;
  }

  @keyframes msgPop {
    0% { transform: scale(0) translateY(0); opacity: 0; }
    20% { transform: scale(1.1) translateY(-10px); opacity: 1; }
    80% { opacity: 1; }
    100% { transform: scale(0.9) translateY(-40px); opacity: 0; }
  }

  @media (max-width: 480px) {
    .card { padding: 36px 24px; }
    h1 { font-size: 26px; }
    .yay-title { font-size: 34px; }
    .btn-yes { padding: 14px 40px; font-size: 18px; }
  }
</style>
</head>
<body>

<div class="hearts-bg" id="heartsBg"></div>
<canvas id="confetti"></canvas>

<div class="card">
  <!-- Question Screen -->
  <div class="question-screen" id="questionScreen">
    <span class="emoji-big">üíï</span>
    <h1>–°–æ–Ω–µ—á–∫–∞,</h1>
    <p class="subtitle">–±—É–¥–µ—à—å –º–æ–µ–π –í–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π? üíå</p>

    <div class="buttons">
      <button class="btn-yes" id="btnYes" onclick="sayYes()">–î–ê! üíñ</button>
      <button class="btn-no" id="btnNo">–ù–µ—Ç</button>
    </div>
  </div>

  <!-- YES Screen -->
  <div class="yes-screen" id="yesScreen">
    <div>
      <span class="yay-emoji">üíñ‚ú®</span>
      <span class="yay-title">–£–†–ê!!!</span>
      <span class="yay-emoji">‚ú®üíñ</span>
    </div>
    <p class="best-decision">–õ—É—á—à–µ–µ —Ä–µ—à–µ–Ω–∏–µ ever ü•π</p>
    <div class="gif-container">
      <img src="https://media.giphy.com/media/l0MYt5jPR6QX5APm0/giphy.gif" alt="Love" />
    </div>
    <p class="love-text">–Ø —Ç–µ–±—è –ª—é–±–ª—é <span class="heart">‚ù§Ô∏è</span></p>
  </div>
</div>

<script>
// Floating hearts
const heartsBg = document.getElementById('heartsBg');
const heartEmojis = ['üíï','üíó','üíñ','üíò','üíù','üåπ','‚ú®','üíê'];
function createHeart() {
  const heart = document.createElement('span');
  heart.className = 'floating-heart';
  heart.textContent = heartEmojis[Math.floor(Math.random() * heartEmojis.length)];
  heart.style.left = Math.random() * 100 + '%';
  heart.style.fontSize = (14 + Math.random() * 20) + 'px';
  heart.style.animationDuration = (8 + Math.random() * 12) + 's';
  heart.style.animationDelay = Math.random() * 2 + 's';
  heartsBg.appendChild(heart);
  setTimeout(() => heart.remove(), 22000);
}
setInterval(createHeart, 600);
for (let i = 0; i < 15; i++) setTimeout(createHeart, i * 200);

// NO button ‚Äî runs away!
const btnNo = document.getElementById('btnNo');
const btnYes = document.getElementById('btnYes');
let noCount = 0;
const noMessages = [
  '–•–∞—Ö–∞, –ø–æ–ø—Ä–æ–±—É–π –µ—â—ë —Ä–∞–∑ üòè',
  '–ù–µ-–Ω–µ-–Ω–µ, —Ç–∞–∫ –Ω–µ –ø–æ–π–¥—ë—Ç üò§',
  '–¢—ã —É–≤–µ—Ä–µ–Ω–∞?! ü•∫',
  '–≠—Ç–∞ –∫–Ω–æ–ø–∫–∞ —Å–ª–æ–º–∞–ª–∞—Å—å üîß',
  '–ù–∞–∂–º–∏ –ª—É—á—à–µ –î–ê! üíï',
  '–Ø –Ω–µ —Å–¥–∞–º—Å—è! üí™',
  '–ö–Ω–æ–ø–∫–∞ —É–±–µ–∂–∞–ª–∞ üèÉ‚Äç‚ôÇÔ∏è',
  '–ù—É –ø–æ–∂–∞–∞–∞–ª—É–π—Å—Ç–∞ ü•π',
  '–ê–Ω—Ç–æ–Ω —Ä–∞—Å—Å—Ç—Ä–æ–∏—Ç—Å—è üò¢',
  '–õ–∞–¥–Ω–æ, —è –ø–æ–¥–æ–∂–¥—É... ü•≤'
];

function showEscapeMsg(x, y) {
  const msg = document.createElement('div');
  msg.className = 'escape-msg';
  msg.textContent = noMessages[Math.min(noCount, noMessages.length - 1)];
  msg.style.left = x + 'px';
  msg.style.top = y + 'px';
  document.body.appendChild(msg);
  setTimeout(() => msg.remove(), 1500);
}

btnNo.addEventListener('mouseenter', function(e) {
  if (noCount >= 2) {
    const maxX = window.innerWidth - this.offsetWidth - 20;
    const maxY = window.innerHeight - this.offsetHeight - 20;
    this.style.position = 'fixed';
    this.style.left = Math.random() * maxX + 'px';
    this.style.top = Math.random() * maxY + 'px';
    this.style.zIndex = '5';
    showEscapeMsg(e.clientX, e.clientY - 50);
    noCount++;
  }
});

btnNo.addEventListener('click', function(e) {
  noCount++;
  if (noCount >= 3) {
    const maxX = window.innerWidth - this.offsetWidth - 20;
    const maxY = window.innerHeight - this.offsetHeight - 20;
    this.style.position = 'fixed';
    this.style.left = Math.random() * maxX + 'px';
    this.style.top = Math.random() * maxY + 'px';
    this.style.zIndex = '5';
  }
  showEscapeMsg(e.clientX, e.clientY - 50);
  // Make YES button bigger each time
  const scale = 1 + noCount * 0.08;
  btnYes.style.transform = `scale(${scale})`;
});

// Mobile: tap on NO
btnNo.addEventListener('touchstart', function(e) {
  e.preventDefault();
  noCount++;
  const touch = e.touches[0];
  showEscapeMsg(touch.clientX - 60, touch.clientY - 60);
  if (noCount >= 2) {
    const maxX = window.innerWidth - 100;
    const maxY = window.innerHeight - 60;
    this.style.position = 'fixed';
    this.style.left = Math.random() * maxX + 'px';
    this.style.top = Math.random() * maxY + 'px';
    this.style.zIndex = '5';
  }
  const scale = 1 + noCount * 0.08;
  btnYes.style.transform = `scale(${scale})`;
});

// YES!
function sayYes() {
  document.getElementById('questionScreen').classList.add('hidden');
  document.getElementById('yesScreen').classList.add('active');
  document.body.classList.add('yes-mode');
  launchConfetti();
  // Extra hearts burst
  for (let i = 0; i < 30; i++) setTimeout(createHeart, i * 100);
}

// Confetti
function launchConfetti() {
  const canvas = document.getElementById('confetti');
  const ctx = canvas.getContext('2d');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
  const pieces = [];
  const colors = ['#e53935','#ff6f61','#f48fb1','#fce4ec','#ffeb3b','#ff9800','#e91e63','#9c27b0'];

  for (let i = 0; i < 150; i++) {
    pieces.push({
      x: canvas.width / 2,
      y: canvas.height / 2,
      vx: (Math.random() - 0.5) * 20,
      vy: (Math.random() - 0.5) * 20 - 5,
      w: 6 + Math.random() * 8,
      h: 4 + Math.random() * 6,
      color: colors[Math.floor(Math.random() * colors.length)],
      rot: Math.random() * Math.PI * 2,
      rotV: (Math.random() - 0.5) * 0.3,
      gravity: 0.15 + Math.random() * 0.1,
      opacity: 1
    });
  }

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    let alive = false;
    pieces.forEach(p => {
      p.x += p.vx;
      p.vy += p.gravity;
      p.y += p.vy;
      p.rot += p.rotV;
      p.vx *= 0.99;
      if (p.y > canvas.height + 20) { p.opacity -= 0.02; }
      if (p.opacity <= 0) return;
      alive = true;
      ctx.save();
      ctx.translate(p.x, p.y);
      ctx.rotate(p.rot);
      ctx.globalAlpha = p.opacity;
      ctx.fillStyle = p.color;
      ctx.fillRect(-p.w/2, -p.h/2, p.w, p.h);
      ctx.restore();
    });
    if (alive) requestAnimationFrame(animate);
  }
  animate();

  // Second burst
  setTimeout(() => {
    for (let i = 0; i < 80; i++) {
      pieces.push({
        x: Math.random() * canvas.width,
        y: -20,
        vx: (Math.random() - 0.5) * 6,
        vy: Math.random() * 4 + 2,
        w: 5 + Math.random() * 7,
        h: 3 + Math.random() * 5,
        color: colors[Math.floor(Math.random() * colors.length)],
        rot: Math.random() * Math.PI * 2,
        rotV: (Math.random() - 0.5) * 0.2,
        gravity: 0.12,
        opacity: 1
      });
    }
    animate();
  }, 800);
}

window.addEventListener('resize', () => {
  const c = document.getElementById('confetti');
  c.width = window.innerWidth;
  c.height = window.innerHeight;
});
</script>
</body>
</html>
